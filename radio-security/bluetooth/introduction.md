# Bluetooth安全

## 蓝牙技术概述

蓝牙（Bluetooth），一种无线技术标准，用来让固定与移动设备，在短距离间交换数据，以形成个人局域网（PAN）。其使用短波特高频（UHF）无线电波，经由2.4至2.485 GHz的ISM频段来进行通信。1994年由电信商爱立信发展出这个技术。它最初的设计，是希望创建一个RS-232数据线的无线通讯替代版本。

蓝牙无线技术是使用范围最广泛的全球短距离无线标准之一，全新的蓝牙 4.0 版本将传统蓝牙，高速蓝牙和低功耗蓝牙技术三种蓝牙技术合而为一。它集成了蓝牙技术在无线连接上的固有优势，同时增加了高速蓝牙和低功耗蓝牙的特点，这三个规格可以组合使用，也可以单独使用，低功耗蓝牙即 ble 是蓝牙 4.0 的核心规范，该技术最大特点是拥有超低的运行功耗和待机功耗，蓝牙低功耗设备使用一粒纽扣电池可以连续工作数年之久，可应用与对成本和功耗都有严格要求的无线方案，而且随之智能机的发展将有着更加广泛的领域。

蓝牙技术目前由蓝牙技术联盟（SIG）来负责维护其技术标准，这个联盟拥有超过20,000间公司成员，其成员的领域分布在电信、电脑、网络与消费性电子产品上。

蓝牙也是目前数码产品中不可或缺的模块。蓝牙技术的出现让我们在连接各种设备的时候不再被繁多的数据线所束缚，比如音响、电脑、鼠标、键盘、汽车。

## 蓝牙版本更新

蓝牙发展至今，已经从1.0到现在5.0版本了，前面3个版本蓝牙主要是以BR/EDR/HS（AMP）发展，也就是常说的经典蓝牙，4.0版本后引入LE，蓝牙技术联盟（Bluetooth Special Interest Group，简称SIG）维护着蓝牙核心规范。不难看出，从高速AMP直接使用802.11 PHY，还是低功耗参考使用802.15.4以及最新标准的蓝牙5.0协议，SIG一直在功耗、速率、和最新的物联网功能上面平衡。

蓝牙技术版本更新：1.1、1.2、2.0、2.1、3.0、4.0、4.1、4.2、5.0、5.1、5.2

蓝牙1.1标准：为最早期版本，传输率约在748~810kb/s，因是早期设计，容易受到同频率之产品所干扰下影响通讯质量。

蓝牙1.2标准：同样是只有 748~810kb/s 的传输率，但在加上了(改善 Software)抗干扰跳频功能。

蓝牙2.0标准：1.2 的改良提升版，传输率约在 1.8M/s~2.1M/s，开始支持双工模式——即一面作语音通讯，同时亦可以传输档案/高质素图片。

蓝牙2.1标准：2007年8月2日，蓝牙技术联盟正式批准了蓝牙2.1版规范，即“蓝牙2.1+EDR”，可供未来的设备自由使用。相对2.0版本主要是提高了待机时间2倍以上，技术标准没有根本性变化。

蓝牙3.0标准：2009年4月21日，蓝牙技术联盟颁布的新一代标准规范"Bluetooth Core Specification  Version 3.0 High Speed"(蓝牙核心规范3.0版 )，核心是"Generic Alternate  MAC/PHY"(AMP)一种全新的交替射频技术，允许蓝牙协议栈针对任一任务动态地选择正确射频。3.0的数据传输率提高到了大约24Mbps(即可在需要的时候调用802.11 WI-FI用于实现高速数据传输)。3.0的传输速速率是2.0的八倍。

蓝牙4.0标准：于2010年7月7日正式发布，是蓝牙3.0+HS规范的补充，新版本的最大意义在于低功耗，同时加强不同OEM厂商之间的设备兼容性，并且降低延迟，理论最高传输速度依然为24Mbps(即3MB/s)，有效覆盖范围扩大到100米(之前的版本为10米)。4.0是专门面向对成本和功耗都有较高要求的无线方案，可广泛用于卫生保健、体育健身、家庭娱乐、安全保障等诸多领域。

蓝牙5.0标准：在2016年6月发布。在有效传输距离上将是4.2LE版本的4倍（理论上可达300米），传输速度将是4.2LE版本的2倍（速度上限为24Mbps）。蓝牙5.0还支持室内定位导航功能（结合WiFi可以实现精度小于1米的室内定位），允许无需配对接受信标的数据（比如广告、Beacon、位置信息等，传输率提高了8倍），针对物联网进行了很多底层优化。

## 经典蓝牙和低功耗蓝牙

经典蓝牙（classic Bluetooth，简称BT）和低功耗蓝牙（Bluetooth low energy，简称LE、BLE）的区别是什么？

2010年SIG联盟合并了Wibree联盟，并把Wibree联盟提出的低功耗无线技术重新命名为低功耗蓝牙技术（BLE），从此BLE也成了一种蓝牙技术。相应地，2010年发布的蓝牙4.0规格就同时包含经典蓝牙和低功耗蓝牙，也就是说，从蓝牙4.0之后，蓝牙才分经典蓝牙和低功耗蓝牙。所谓经典蓝牙的叫法，是由于LE是2010年才提出的，比较新，因此为了说起来方便，人们把之前的BR/EDR/HS（AMP）技术称为经典蓝牙技术。

SIG联盟后续发布的蓝牙4.0之后版本，它们同时包含低功耗蓝牙和经典蓝牙的。但应用场景是不同的，通常情况下，经典蓝牙应用于蓝牙耳机，蓝牙音箱等场合，低功耗蓝牙应用在可穿戴设备，物联网智能设备，运动健身设备，蓝牙鼠标键盘等电池供电场合。虽然经典蓝牙也可以使用电池供电，但由于BLE对电池的要求更低，在续航优势下，所以相较于经典蓝牙，低功耗蓝牙在保持同等通信范围的同时显著降低功耗和成本。

“蓝牙低功耗”技术采用与“经典蓝牙”技术相同的工作频率（2.400 GHz-2.4835 GHz - ISM频带），但使用另一组信道。不同于经典蓝牙的79 1-MHz信道，蓝牙低功耗使用40 2-MHz信道。在一个信道内，数据使用高斯频移调制传输，类似经典蓝牙的基本速率方案；比特率1Mbit/s，最大发射功率10 mW。